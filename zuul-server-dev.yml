server:
    port: 8890

zuul:
  RibbonRoutingFilter:
    route:
      disable: true
  ignoredServices: '*'
  ignoredPatterns: /health*
  routes:
    infusion-service:
      path: /api/infusion/v1.L/**
      serviceId: infusion-service-v1.1
      stripPrefix: false
      sensitive-headers:
    treatment-service:
      path: /api/renal/v1/**
      serviceId: treatment-service-v1
      stripPrefix: false
      sensitive-headers:
    ui: #This is the default route. ORDER IS IMPORTANT AND THIS SHOULD GO LAST IN THE LIST OF ROUTES.
      stripPrefix: false
      path: /**
      url: http://localhost:3000/
      sensitive-headers:

security:
  oauth2:
    resource:
      jwt:
        keyValue: |
          -----BEGIN RSA PUBLIC KEY-----
          MIIBCgKCAQEA07/4DxKS+vHMDeQMCfhd106LfDkyIGNyZGNH3OhA0o3c0PU7ui20
          3tZqD5V2oWBxkyqus1j0ZDYl74u79ZpKFTHgoowZcwMYxNjUNqLczJqpkOFXR1Nv
          dI/5h87rzwsJHKqJ0ntG4kHJmCQl9Wmdi8ZXDLsV+hoQKFKD4w3A8NCO1cnaPQwM
          DnY4eRYT8N9K6Wb2k8lYzY1NQ9nTijswWFLm8Qp2uyLqtTWbZvn/JaksRdNTv6J6
          SnSeQnw5sAKJUCLLx/zDVH6ALbIjsT7/aZY/N6e5ByQU4yz+TJHZ7wKruM4jKVD3
          PsSW7TM339qmdsxVtulyGPbaRn6Swsx4kQIDAQAB
          -----END RSA PUBLIC KEY-----
      #userInfoUri: https://bax-poc.auth0.com/userinfo

cloud:
  consul:
    discovery:
      instanceId: ${spring.application.name}:${spring.application.instance_id:${random.value}}

hystrix:
  threadpool:
    default:
      # Maximum number of concurrent requests when using thread pools (Default: 10)
      coreSize: 10
      # Maximum LinkedBlockingQueue size - -1 for using SynchronousQueue (Default: -1)
      maxQueueSize: -1
      # Queue size rejection threshold (Default: 5)
      queueSizeRejectionThreshold: 5
  command:
    default:
      circuitBreaker:
        sleepWindowInMilliseconds: 30000
        requestVolumeThreshold: 20
      execution:
        isolation:
          strategy: THREAD
          thread:
            timeoutInMilliseconds: 10000

treatment-service-v1:
  ribbon:
    NIWSServerListClassName: com.netflix.niws.loadbalancer.DiscoveryEnabledNIWSServerList
    DeploymentContextBasedVipAddress: treatment-service-v1
    MaxAutoRetries: 0
    MaxAutoRetriesNextServer: 1
    OkToRetryOnAllOperations: true
    ServerListRefreshInterval: 2000

infusion-service-v1.1:
  ribbon:
    NIWSServerListClassName: com.netflix.niws.loadbalancer.DiscoveryEnabledNIWSServerList
    DeploymentContextBasedVipAddress: infusion-service-v1
    MaxAutoRetries: 0
    MaxAutoRetriesNextServer: 1
    OkToRetryOnAllOperations: true
    ServerListRefreshInterval: 2000